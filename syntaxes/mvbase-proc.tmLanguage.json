{
	"$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
	"name": "mvBase PROC",
	"patterns": [
		{
			"include": "#commands"
		},
		{
			"include": "#nullary-commands"
		},
		{
			"include": "#comments"
		},
		{
			"include": "#labels"
		}
	],
	"repository": {
		"commands": {
			"patterns": [
			{ "include": "#a-cmd" },
			{ "include": "#d-cmd" },
			{ "include": "#go-cmd" },
			{ "include": "#h-cmd" },
			{ "include": "#ih-cmd" },
			{ "include": "#ip-cmd" },
			{ "include": "#is-cmd" },
			{ "include": "#o-cmd" },
			{ "include": "#ri-cmd" },
			{ "include": "#s-cmd" },
			{ "include": "#x-cmd"}
		]
		},
		"nullary-commands": {
			"comment": "Nullary Commands",
			"match": "(B|BO|F|IT|RO|SP|SS|STOFF|ST OFF|STON|ST ON)$",
			"captures": {
				"1": { "name": "entity.name.function" }
			}
		},
		"comments": {
			"comment": "Line Comment",
			"match": "(C.*$)",
			"captures": {
				"1": { "name": "comment.line.mvbase-proc" }
			}
		},
		"labels": {
			"comment": "Numeric Label",
			"match": "^(\\d+)",
			"captures": {
				"1": { "name": "keyword.control.mvbase-proc"}
			}
		},
		"a-cmd": {
			"comment": "A Command",
			"match": "(A)(\"|')?(\\d+)?(?:[^\\d])?((?<=,)\\d+)?",
			"captures": {
				"1": { "name": "entity.name.function" },
				"2": { "name": "keyword.other.mvbase-proc"},
				"3": { "name": "variable.parameter.mvbase-proc"},
				"4": { "name": "variable.other.mvbase-proc"}
			}
		},
		"d-cmd": {
			"comment": "D Command",
			"match": "(D)(\\d+)?(?:[^\\d])?((?<=,)\\d+)?([+])?",
			"captures": {
				"1": { "name": "entity.name.function" },
				"2": { "name": "variable.parameter.mvbase-proc" },
				"3": { "name": "variable.other.mvbase-proc" },
				"4": { "name": "keyword.operator.mvbase-proc" }
			}
		},
		"go-cmd": {
			"comment": "GO/G Command",
			"match": "(GO|G) (?:(\\d+)|(A)(\\d+)?)",
			"captures": {
				"1": { "name": "entity.name.function" },
				"2": { "name": "keyword.control.mvbase-proc" },
				"3": { "name": "entity.name.function" },
				"4": { "name": "keyword.control.mvbase-proc" }
			}
		},
		"h-cmd": {
			"comment": "H Command",
			"match": "(H)(.*?)(?:(?=[<]+$)|(?=$))(<$)?",
			"captures": {
				"1": { "name": "entity.name.function" },
				"2": { "name": "string.unquoted.mvbase-proc"},
				"3": { "name": "constant.language.mvbase-proc" }
			}
		},
		"ih-cmd": {
			"comment": "IH Command",
			"match": "(IH)(.*$)",
			"captures": {
				"1": { "name": "entity.name.function" },
				"2": { "name": "string.unquoted.mvbase-proc"}
			}
		},
		"ip-cmd": {
			"comment": "IP Command",
			"match": "(IP)(B)?(.)?$",
			"captures": {
				"1": { "name": "entity.name.function" },
				"2": { "name": "variable.parameter.mvbase-proc" },
				"3": { "name": "keyword.other.mvbase-proc"}
			}
		},
		"is-cmd": {
			"comment": "IS Command",
			"match": "(IS)(.)?$",
			"captures": {
				"1": { "name": "entity.name.function" },
				"2": { "name": "keyword.other.mvbase-proc"}
			}
		},
		"o-cmd": {
			"comment": "O Command",
			"match": "(O)(.*?)(?:(?=[+]+$)|(?=$))([+]$)?",
			"captures": {
				"1": { "name": "entity.name.function" },
				"2": { "name": "string.unquoted.mvbase-proc"},
				"3": { "name": "constant.language.mvbase-proc" }
			}
		},
		"ri-cmd": {
			"comment": "RI Command",
			"match": "(RI)(\\d+)?",
			"captures": {
				"1":{ "name": "entity.name.function" },
				"2": { "name": "variable.parameter.mvbase-proc" }
			}
		},
		"s-cmd": {
			"comment": "S Command",
			"match": "(S)(\\d+)",
			"captures": {
				"1":{ "name": "entity.name.function" },
				"2": { "name": "variable.parameter.mvbase-proc" }
			}
		},
		"x-cmd": {
			"comment": "X Command",
			"match": "(X)(.+)?",
			"captures": {
				"1": { "name": "entity.name.function" },
				"2": { "name": "string.unquoted.mvbase-proc"}
			}
		}
	},
	"scopeName": "source.mvbase-proc"
}